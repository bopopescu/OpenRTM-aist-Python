<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>OpenRTM: クラス StateMachine</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- 作成： Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>メインページ</span></a></li>
    <li class="current"><a href="annotated.html"><span>データ構造</span></a></li>
    <li><a href="files.html"><span>ファイル</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>データ構造</span></a></li>
    <li><a href="hierarchy.html"><span>クラス階層</span></a></li>
    <li><a href="functions.html"><span>データフィールド</span></a></li>
  </ul>
</div>
<div class="nav">
<b>source_py</b>::<b>StateMachine</b>::<a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html">StateMachine</a></div>
<h1>クラス StateMachine</h1><!-- doxytag: class="source_py::StateMachine::StateMachine" -->状態マシンクラス  
<a href="#_details">[詳細]</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public メソッド</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#c775ee34451fdfa742b318538164070e">__init__</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">コンストラクタ  <a href="#c775ee34451fdfa742b318538164070e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#4f62013f4bad3cf6fa66b7960c94483a">setNOP</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">NOP関数を登録する  <a href="#4f62013f4bad3cf6fa66b7960c94483a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#27942715e507466d12a5a40e2be88978">setListener</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Listener オブジェクトを登録する  <a href="#27942715e507466d12a5a40e2be88978"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#a7ea29cfa7a1c13844990f50a1c1316c">setEntryAction</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Entry action 関数を登録する  <a href="#a7ea29cfa7a1c13844990f50a1c1316c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#793d0cb005dfa6d2e45c1c2094d4281d">setPreDoAction</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PreDo action 関数を登録する  <a href="#793d0cb005dfa6d2e45c1c2094d4281d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#b3e53ca350f5444302fcbb234421e3c2">setDoAction</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Do action 関数を登録する  <a href="#b3e53ca350f5444302fcbb234421e3c2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#9a7d244baefbadf463864d3fa56c6638">setPostDoAction</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">PostDo action 関数を登録する  <a href="#9a7d244baefbadf463864d3fa56c6638"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#6670a39821d7c2e46beb7b3bf19a7342">setExitAction</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Exit action 関数を登録する  <a href="#6670a39821d7c2e46beb7b3bf19a7342"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#37b501f2bc2a7e84404e33002772379c">setTransitionAction</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">State transition action 関数を登録する  <a href="#37b501f2bc2a7e84404e33002772379c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#1d925456196beef27fb294f13c97ca82">setStartState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">初期状態をセットする  <a href="#1d925456196beef27fb294f13c97ca82"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#fe4313853d94d15e3af66f113d9b290a">getStates</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">状態を取得する  <a href="#fe4313853d94d15e3af66f113d9b290a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#4ce4ebac6ce95bd44e0d8c96d2f7229c">getState</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">現在の状態を取得する  <a href="#4ce4ebac6ce95bd44e0d8c96d2f7229c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#d93bee2a4e4d8d3774b422e1b876688d">isIn</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">現在状態を確認  <a href="#d93bee2a4e4d8d3774b422e1b876688d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#a37d866a8909e56771dc5cc19acca319">goTo</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">状態を遷移  <a href="#a37d866a8909e56771dc5cc19acca319"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#dcea215e03f3d5aca9fd68839a9be793">worker</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">駆動関数  <a href="#dcea215e03f3d5aca9fd68839a9be793"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#190254a950c5a9265f11aeaed3e274cc">setNullFunc</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">NOP関数を設定  <a href="#190254a950c5a9265f11aeaed3e274cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#a13874b228d1fd4b9a35e720c1fe630b">sync</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">状態の同期処理  <a href="#a13874b228d1fd4b9a35e720c1fe630b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#42dec51ac5170b72d31f2010531e80c8">need_trans</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">遷移の必要性チェック  <a href="#42dec51ac5170b72d31f2010531e80c8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">def&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#869c4bfc7228d32dec199562644a7c62">update_curr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">現在状態の更新  <a href="#869c4bfc7228d32dec199562644a7c62"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>説明</h2>
状態マシンクラス 
<p>
<a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html" title="状態マシンクラス">StateMachine</a> クラスは状態マシンを実現するクラスである。<p>
例: ActiveObjectは状態マシンを持つアクティブオブジェクトであるとする。 状態は3状態 INACTIVE, ACTIVE, ERROR があり、各状態でのEntryやExit動作を 定義したいとすると、以下のように実現される。 <pre>
 class ActiveObject:
   class MyState:
     INACTIVE, ACTIVE, ERROR = range(3)</pre><p>
<pre>   def __init__(self):
     m_sm = StateMachine(3)
     m_sm.setNOP(nullAction)
     m_sm.setListener(self)</pre><p>
<pre>     m_sm.setExitAction(MyState.INACTIVE, self.inactiveExit)
       : 
     m_sm.setPostDoAction(MyState.ERROR, self.errorPostDo)
     m_sm.setTransitionAction(self.transition);</pre><p>
<pre>   def nullAction(myStates):
     pass
   def inactiveExit(myStates):
     pass
     : 
   def errorPostDo(myStates):
     pass
   def transition(myStates:
     pass
 </pre> 状態を持たせたいクラスは以下の条件を満たすように実装しなければならない。 <ol>
<li>
内部クラスで状態を定義 </li>
<li>
<a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html" title="状態マシンクラス">StateMachine</a> のコンストラクタ引数は状態の数 </li>
<li>
以下のアクション関数を(Return _function_name_(States)) の関数として設定 <ol>
<li>
何もしない関数を必ず定義し、setNOP で与えなければならない </li>
<li>
各状態毎に, set(Entry|PreDo|Do|PostDo|Exit)Action でアクションを設定 </li>
<li>
状態遷移時のアクションを <a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#37b501f2bc2a7e84404e33002772379c" title="State transition action 関数を登録する">setTransitionAction()</a> で設定。 </li>
</ol>
</li>
<li>
遷移時のアクションは、与えられた現在状態、次状態、前状態を元に、 ユーザが実装しなければならない。 </li>
<li>
状態の変更は <a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#a37d866a8909e56771dc5cc19acca319" title="状態を遷移">goTo()</a> で、状態のチェックは isIn(state) で行う。 </li>
<li>
<a class="el" href="classsource__py_1_1_state_machine_1_1_state_machine.html#a37d866a8909e56771dc5cc19acca319" title="状態を遷移">goTo()</a>は次状態を強制的にセットする関数であり、遷移の可否は、 ユーザが現在状態を取得し判断するロジックを実装しなければならない。 </li>
</ol>
<p>
このクラスは、一つの状態に対して、 <ul>
<li>
Entry action </li>
<li>
PreDo action </li>
<li>
Do action </li>
<li>
PostDo action </li>
<li>
Exit action </li>
</ul>
5つのアクションが定義することができる。 Transition action はあらゆる状態間遷移で呼び出されるアクションで、 その振る舞いはユーザが定義しなければならない。<p>
このクラスは以下のようなタイミングで各アクションが実行される。<p>
<ul>
<li>
状態が変更され(A-&gt;B)状態が遷移する場合 <br>
 (A:Exit)-&gt;|(状態更新:A-&gt;B)-&gt;(B:Entry)-&gt;(B:PreDo)-&gt;(B:Do)-&gt;(B:PostDo)<p>
</li>
<li>
状態が変更されず、B状態を維持する場合 (|はステップの区切りを表す)<br>
 (B(n-1):PostDo)-&gt;|(B(n):PreDo)-&gt;(B(n):Do)-&gt;(B(n):PostDo)-&gt;|(B(n+1):PreDo)<br>
 PreDo, Do, PostDo が繰り返し実行される。<p>
</li>
<li>
自己遷移する場合 <br>
 (B(n-1):PostDo)-&gt;(B(n-1):Exit)-&gt;|(B(n):Entry)-&gt;(B(n):PreDo) <br>
 一旦 Exit が呼ばれた後、Entry が実行され、以降は前項と同じ動作をする。 </li>
</ul>
<p>
<dl class="since" compact><dt><b>から:</b></dt><dd>0.4.0 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00156">156</a> 行で定義されています。</p>
<hr><h2>関数</h2>
<a class="anchor" name="c775ee34451fdfa742b318538164070e"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::__init__" ref="c775ee34451fdfa742b318538164070e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def __init__           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>num_of_state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
コンストラクタ 
<p>
コンストラクタ<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>num_of_state</em>&nbsp;</td><td>ステートマシン中の状態数 </td></tr>
  </table>
</dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00176">176</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="4f62013f4bad3cf6fa66b7960c94483a"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::setNOP" ref="4f62013f4bad3cf6fa66b7960c94483a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def setNOP           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>call_back</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
NOP関数を登録する 
<p>
NOP関数(何もしない関数)を登録する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>call_back</em>&nbsp;</td><td>コールバック関数 </td></tr>
  </table>
</dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00205">205</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="27942715e507466d12a5a40e2be88978"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::setListener" ref="27942715e507466d12a5a40e2be88978" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def setListener           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>listener</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Listener オブジェクトを登録する 
<p>
各種アクション実行時に呼び出される Listener オブジェクトを登録する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>listener</em>&nbsp;</td><td>Listener オブジェクト </td></tr>
  </table>
</dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00226">226</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="a7ea29cfa7a1c13844990f50a1c1316c"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::setEntryAction" ref="a7ea29cfa7a1c13844990f50a1c1316c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def setEntryAction           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>call_back</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Entry action 関数を登録する 
<p>
各状態に入った際に実行される Entry action 用コールバック関数を登録する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>登録対象状態 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>call_back</em>&nbsp;</td><td>Entry action 用コールバック関数</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>アクション実行結果 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00245">245</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="793d0cb005dfa6d2e45c1c2094d4281d"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::setPreDoAction" ref="793d0cb005dfa6d2e45c1c2094d4281d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def setPreDoAction           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>call_back</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
PreDo action 関数を登録する 
<p>
各状態内で実行される PreDo action 用コールバック関数を登録する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>登録対象状態 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>call_back</em>&nbsp;</td><td>PreDo action 用コールバック関数</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>アクション実行結果 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00268">268</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="b3e53ca350f5444302fcbb234421e3c2"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::setDoAction" ref="b3e53ca350f5444302fcbb234421e3c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def setDoAction           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>call_back</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Do action 関数を登録する 
<p>
各状態内で実行される Do action 用コールバック関数を登録する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>登録対象状態 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>call_back</em>&nbsp;</td><td>Do action 用コールバック関数</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>アクション実行結果 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00291">291</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="9a7d244baefbadf463864d3fa56c6638"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::setPostDoAction" ref="9a7d244baefbadf463864d3fa56c6638" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def setPostDoAction           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>call_back</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
PostDo action 関数を登録する 
<p>
各状態内で実行される PostDo action 用コールバック関数を登録する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>登録対象状態 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>call_back</em>&nbsp;</td><td>PostDo action 用コールバック関数</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>アクション実行結果 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00314">314</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="6670a39821d7c2e46beb7b3bf19a7342"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::setExitAction" ref="6670a39821d7c2e46beb7b3bf19a7342" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def setExitAction           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>call_back</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Exit action 関数を登録する 
<p>
各状態内で実行される Exit action 用コールバック関数を登録する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>登録対象状態 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>call_back</em>&nbsp;</td><td>Exit action 用コールバック関数</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>アクション実行結果 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00337">337</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="37b501f2bc2a7e84404e33002772379c"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::setTransitionAction" ref="37b501f2bc2a7e84404e33002772379c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def setTransitionAction           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>call_back</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
State transition action 関数を登録する 
<p>
状態遷移時に実行される State transition action 用コールバック関数を 登録する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>call_back</em>&nbsp;</td><td>State transition 用コールバック関数</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>アクション実行結果 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00360">360</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="1d925456196beef27fb294f13c97ca82"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::setStartState" ref="1d925456196beef27fb294f13c97ca82" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def setStartState           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>states</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
初期状態をセットする 
<p>
ステートマシンの初期状態を設定する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>states</em>&nbsp;</td><td>初期状態 </td></tr>
  </table>
</dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00377">377</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="fe4313853d94d15e3af66f113d9b290a"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::getStates" ref="fe4313853d94d15e3af66f113d9b290a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def getStates           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
状態を取得する 
<p>
状態情報を取得する。 現在の状態、１つ前の状態、遷移予定の状態を取得することができる。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>状態情報 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00398">398</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="4ce4ebac6ce95bd44e0d8c96d2f7229c"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::getState" ref="4ce4ebac6ce95bd44e0d8c96d2f7229c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def getState           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
現在の状態を取得する 
<p>
現在の状態を取得する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>現在の状態 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00416">416</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="d93bee2a4e4d8d3774b422e1b876688d"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::isIn" ref="d93bee2a4e4d8d3774b422e1b876688d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def isIn           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
現在状態を確認 
<p>
現在の状態が、引数で指定した状態と一致するか確認する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>確認対象状態</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>状態確認結果 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00435">435</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="a37d866a8909e56771dc5cc19acca319"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::goTo" ref="a37d866a8909e56771dc5cc19acca319" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def goTo           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>state</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
状態を遷移 
<p>
指定した状態に状態を遷移する。 本関数は次状態を強制的にセットする関数である。 このため、遷移の可否は、ユーザが現在状態を取得し判断するロジックを 実装しなければならない。 遷移先が現在の状態と同じ場合には、自己遷移フラグをセットする。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>遷移先状態 </td></tr>
  </table>
</dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00459">459</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="dcea215e03f3d5aca9fd68839a9be793"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::worker" ref="dcea215e03f3d5aca9fd68839a9be793" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def worker           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
駆動関数 
<p>
ステートマシンの駆動関数。 実際の状態遷移および状態遷移発生時の各アクションの呼びだしを実行する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
  </table>
</dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00476">476</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="190254a950c5a9265f11aeaed3e274cc"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::setNullFunc" ref="190254a950c5a9265f11aeaed3e274cc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def setNullFunc           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>nullfunc</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
NOP関数を設定 
<p>
NOP関数(何もしない関数)を登録する。<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>コールバック関数設定先 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nullfunc</em>&nbsp;</td><td>コールバック関数(NOP関数) </td></tr>
  </table>
</dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00524">524</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="a13874b228d1fd4b9a35e720c1fe630b"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::sync" ref="a13874b228d1fd4b9a35e720c1fe630b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>states</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
状態の同期処理 
<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>states</em>&nbsp;</td><td>OpenRTM.StateHolder&lt;RTC.LifeCycleState&gt; </td></tr>
  </table>
</dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00541">541</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="42dec51ac5170b72d31f2010531e80c8"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::need_trans" ref="42dec51ac5170b72d31f2010531e80c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def need_trans           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
遷移の必要性チェック 
<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>戻り値:</b></dt><dd>遷移必要性確認結果 </dd></dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00559">559</a> 行で定義されています。</p>

</div>
</div><p>
<a class="anchor" name="869c4bfc7228d32dec199562644a7c62"></a><!-- doxytag: member="source_py::StateMachine::StateMachine::update_curr" ref="869c4bfc7228d32dec199562644a7c62" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def update_curr           </td>
          <td>(</td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&nbsp;</td>
          <td class="paramname"> <em>curr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
現在状態の更新 
<p>
<dl compact><dt><b>引数:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>self</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>curr</em>&nbsp;</td><td>RTC.LifeCycleState </td></tr>
  </table>
</dl>

<p> <a class="el" href="_state_machine_8py-source.html">StateMachine.py</a> の <a class="el" href="_state_machine_8py-source.html#l00573">573</a> 行で定義されています。</p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>OpenRTMに対してMon Mar 17 15:11:08 2008に生成されました。&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.4 </small></address>
</body>
</html>
