\section{クラス InPort}
\label{classsource__py_1_1_in_port_1_1_in_port}\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}}
\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} クラス  


\subsection*{Public メソッド}
\begin{CompactItemize}
\item 
def {\bf \_\-\_\-init\_\-\_\-}
\begin{CompactList}\small\item\em コンストラクタ \item\end{CompactList}\item 
def {\bf isNew}
\begin{CompactList}\small\item\em 最新データか確認 \item\end{CompactList}\item 
def {\bf name}
\begin{CompactList}\small\item\em ポート名称を取得する。 \item\end{CompactList}\item 
def {\bf write}
\begin{CompactList}\small\item\em DataPort に値を書き込む \item\end{CompactList}\item 
def {\bf read}
\begin{CompactList}\small\item\em DataPort から値を読み出す \item\end{CompactList}\item 
def {\bf init}
\begin{CompactList}\small\item\em \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} 内のリングバッファの値を初期化(サブクラス実装用) \item\end{CompactList}\item 
def {\bf update}
\begin{CompactList}\small\item\em バインドされた変数に \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファの最新値を読み込む \item\end{CompactList}\item 
def {\bf getNewDataLen}
\begin{CompactList}\small\item\em 未読の新しいデータ数を取得する \item\end{CompactList}\item 
def {\bf getNewList}
\begin{CompactList}\small\item\em 未読の新しいデータを取得する \item\end{CompactList}\item 
def {\bf getNewListReverse}
\begin{CompactList}\small\item\em 未読の新しいデータを逆順(新-$>$古)で取得する \item\end{CompactList}\item 
def {\bf setOnWrite}
\begin{CompactList}\small\item\em \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへデータ入力時のコールバックの設定 \item\end{CompactList}\item 
def {\bf setOnWriteConvert}
\begin{CompactList}\small\item\em \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへデータ書き込み時のコールバックの設定 \item\end{CompactList}\item 
def {\bf setOnRead}
\begin{CompactList}\small\item\em \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへデータ読み込み時のコールバックの設定 \item\end{CompactList}\item 
def {\bf setOnReadConvert}
\begin{CompactList}\small\item\em \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへデータ読み出し時のコールバックの設定 \item\end{CompactList}\item 
def {\bf setOnOverflow}
\begin{CompactList}\small\item\em \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへバッファオーバーフロー時のコールバックの設定 \item\end{CompactList}\item 
def {\bf setOnUnderflow}
\begin{CompactList}\small\item\em \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへバッファアンダーフロー時のコールバックの設定 \item\end{CompactList}\item 
def {\bf getPortDataType}
\begin{CompactList}\small\item\em データ型名取得用メソッド \item\end{CompactList}\end{CompactItemize}


\subsection{説明}
\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} クラス 



\footnotesize\begin{verbatim}
\end{verbatim}
\normalsize


\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} の実装クラス。 \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} は内部にリングバッファを持ち、外部から送信されたデータを順次 このリングバッファに格納する。リングバッファのサイズはデフォルトで64と なっているが、コンストラクタ引数によりサイズを指定することができる。 データはフラグによって未読、既読状態が管理され、isNew(), \doxyref{getNewDataLen()}{p.}{classsource__py_1_1_in_port_1_1_in_port_d952431df55a39536efe9db66ac7db7c} \doxyref{getNewList()}{p.}{classsource__py_1_1_in_port_1_1_in_port_302f28192107e0742399ae5a2f54eef2}, \doxyref{getNewListReverse()}{p.}{classsource__py_1_1_in_port_1_1_in_port_1e50b1e9ee416a231ea2b0c4bf0e7a7f} 等のメソッドによりハンドリングすることが できる。

\begin{Desc}
\item[から:]0.2.0 \end{Desc}


 InPort.py の 105 行で定義されています。

\subsection{関数}
\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!\_\-\_\-init\_\-\_\-@{\_\-\_\-init\_\-\_\-}}
\index{\_\-\_\-init\_\-\_\-@{\_\-\_\-init\_\-\_\-}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def \_\-\_\-init\_\-\_\- ( {\em self},  {\em name},  {\em value},  {\em buffer\_\-},  {\em read\_\-block} = {\tt False},  {\em write\_\-block} = {\tt False},  {\em read\_\-timeout} = {\tt 0},  {\em write\_\-timeout} = {\tt 0})}\label{classsource__py_1_1_in_port_1_1_in_port_c775ee34451fdfa742b318538164070e}


コンストラクタ 

コンストラクタ。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\item[{\em name}]\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} 名。InPortBase:\doxyref{name()}{p.}{classsource__py_1_1_in_port_1_1_in_port_757840459670ee7692e00cf5ddc722d5} により参照される。 \item[{\em value}]この \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} にバインドされる変数 \item[{\em buffer\_\-}]\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} が内部に保持するバッファ \item[{\em read\_\-block}]読込ブロックフラグ。 データ読込時に未読データがない場合、次のデータ受信までブロックする かどうかを設定(デフォルト値:False) \item[{\em write\_\-block}]書込ブロックフラグ。 データ書込時にバッファがフルであった場合、バッファに空きができる までブロックするかどうかを設定(デフォルト値:False) \item[{\em read\_\-timeout}]読込ブロックを指定していない場合の、データ読取タイム アウト時間(ミリ秒)(デフォルト値:0) \item[{\em write\_\-timeout}]書込ブロックを指定していない場合の、データ書込タイム アウト時間(ミリ秒)(デフォルト値:0) \end{description}
\end{Desc}


 InPort.py の 150 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!isNew@{isNew}}
\index{isNew@{isNew}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def isNew ( {\em self})}\label{classsource__py_1_1_in_port_1_1_in_port_a41773ac05767910a4cc7df88b7f814c}


最新データか確認 

現在のバッファ位置に格納されているデータが最新データか確認する。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\end{description}
\end{Desc}
\begin{Desc}
\item[戻り値:]最新データ確認結果 ( true:最新データ．データはまだ読み出されていない false:過去のデータ．データは既に読み出されている) \end{Desc}


 InPort.py の 183 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!name@{name}}
\index{name@{name}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def name ( {\em self})}\label{classsource__py_1_1_in_port_1_1_in_port_757840459670ee7692e00cf5ddc722d5}


ポート名称を取得する。 

ポート名称を取得する。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\end{description}
\end{Desc}
\begin{Desc}
\item[戻り値:]ポート名称 \end{Desc}


 InPort.py の 200 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!write@{write}}
\index{write@{write}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def write ( {\em self},  {\em value})}\label{classsource__py_1_1_in_port_1_1_in_port_8c7fc40f1124fcf3f5ee7116cd62f413}


DataPort に値を書き込む 

DataPort に値を書き込む。

\begin{itemize}
\item コールバックファンクタ OnWrite がセットされている場合、 \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} が保持するバッファに書き込む前に OnWrite が呼ばれる。\item \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} が保持するバッファがオーバーフローを検出できるバッファであり、 かつ、書き込む際にバッファがオーバーフローを検出した場合、 コールバックファンクタ OnOverflow が呼ばれる。\item コールバックファンクタ OnWriteConvert がセットされている場合、 バッファ書き込み時に、OnWriteConvert の operator()() の戻り値が バッファに書き込まれる。\item setWriteTimeout() により書き込み時のタイムアウトが設定されている場合、 タイムアウト時間だけバッファフル状態が解除するのを待ち、 OnOverflowがセットされていればこれを呼び出して戻る。\end{itemize}


\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\item[{\em value}]書込対象データ\end{description}
\end{Desc}
\begin{Desc}
\item[戻り値:]書込処理結果(書込成功:true、書込失敗:false) \end{Desc}


 InPort.py の 233 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!read@{read}}
\index{read@{read}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def read ( {\em self})}\label{classsource__py_1_1_in_port_1_1_in_port_fcea8c9091d60bee0f6fb79abb6e1cca}


DataPort から値を読み出す 

DataPort から値を読み出す

\begin{itemize}
\item コールバックファンクタ OnRead がセットされている場合、 DataPort が保持するバッファから読み出す前に OnRead が呼ばれる。\item DataPort が保持するバッファがアンダーフローを検出できるバッファで、 かつ、読み出す際にバッファがアンダーフローを検出した場合、 コールバックファンクタ OnUnderflow が呼ばれる。\item コールバックファンクタ OnReadConvert がセットされている場合、 バッファ書き込み時に、OnReadConvert の operator()() の戻り値が \doxyref{read()}{p.}{classsource__py_1_1_in_port_1_1_in_port_fcea8c9091d60bee0f6fb79abb6e1cca}の戻り値となる。\item setReadTimeout() により読み出し時のタイムアウトが設定されている場合、 バッファアンダーフロー状態が解除されるまでタイムアウト時間だけ待ち、 OnUnderflowがセットされていればこれを呼び出して戻る\end{itemize}


\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\end{description}
\end{Desc}
\begin{Desc}
\item[戻り値:]読み出したデータ \end{Desc}


 InPort.py の 301 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!init@{init}}
\index{init@{init}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def init ( {\em self},  {\em value})}\label{classsource__py_1_1_in_port_1_1_in_port_c95cf511c1f2ff09ca47fe587657c2b4}


\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} 内のリングバッファの値を初期化(サブクラス実装用) 

\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} 内のリングバッファの値を指定した値で初期化する。\par
 ※サブクラスでの実装時参照用

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\item[{\em value}]初期化対象データ \end{description}
\end{Desc}


 InPort.py の 361 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!update@{update}}
\index{update@{update}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def update ( {\em self})}\label{classsource__py_1_1_in_port_1_1_in_port_be52b977c101e59f342489ed18140819}


バインドされた変数に \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファの最新値を読み込む 

バインドされたデータに \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} の最新値を読み込む。 コンストラクタで変数と \doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} がバインドされていなければならない。 このメソッドはポリモーフィックに使用される事を前提としているため、 型に依存しない引数、戻り値となっている。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\end{description}
\end{Desc}


 InPort.py の 382 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!getNewDataLen@{getNewDataLen}}
\index{getNewDataLen@{getNewDataLen}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def getNewDataLen ( {\em self})}\label{classsource__py_1_1_in_port_1_1_in_port_d952431df55a39536efe9db66ac7db7c}


未読の新しいデータ数を取得する 

バッファ内の未読データ数を取得する。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\end{description}
\end{Desc}
\begin{Desc}
\item[戻り値:]未読データ数 \end{Desc}


 InPort.py の 410 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!getNewList@{getNewList}}
\index{getNewList@{getNewList}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def getNewList ( {\em self})}\label{classsource__py_1_1_in_port_1_1_in_port_302f28192107e0742399ae5a2f54eef2}


未読の新しいデータを取得する 

バッファ内の未読データリストを取得する。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\end{description}
\end{Desc}
\begin{Desc}
\item[戻り値:]未読データリスト \end{Desc}


 InPort.py の 430 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!getNewListReverse@{getNewListReverse}}
\index{getNewListReverse@{getNewListReverse}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def getNewListReverse ( {\em self})}\label{classsource__py_1_1_in_port_1_1_in_port_1e50b1e9ee416a231ea2b0c4bf0e7a7f}


未読の新しいデータを逆順(新-$>$古)で取得する 

バッファ内の未読データを逆順(新-$>$古)でリスト化し、取得する。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\end{description}
\end{Desc}
\begin{Desc}
\item[戻り値:]未読データリスト \end{Desc}


 InPort.py の 450 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!setOnWrite@{setOnWrite}}
\index{setOnWrite@{setOnWrite}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def setOnWrite ( {\em self},  {\em on\_\-write})}\label{classsource__py_1_1_in_port_1_1_in_port_2ee994c7a78445fb3504f505cf772bd1}


\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへデータ入力時のコールバックの設定 

\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} が持つバッファにデータがputされたときに呼ばれるコールバック オブジェクトを設定する。設定されるコールバックオブジェクトは 引数に value を持ち、戻り値 void の \_\-\_\-call\_\-\_\- 関数を実装している必要がある。

\small\begin{alltt}
 class MyOnWrite:
     def \_\_call\_\_(self, value):
       処理\par

 \end{alltt}
\normalsize 
 のようにコールバックオブジェクトを実装し、\par
 m\_\-inport.setOnWrite(new MyOnWrite());\par
 のようにコールバックオブジェクトをセットする。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\item[{\em on\_\-write}]設定対象コールバックオブジェクト \end{description}
\end{Desc}


 InPort.py の 480 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!setOnWriteConvert@{setOnWriteConvert}}
\index{setOnWriteConvert@{setOnWriteConvert}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def setOnWriteConvert ( {\em self},  {\em on\_\-wconvert})}\label{classsource__py_1_1_in_port_1_1_in_port_b459221007847ee21562c407cbd4a77b}


\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへデータ書き込み時のコールバックの設定 

\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} が持つバッファにデータ書き込まれる時に呼ばれるコールバック オブジェクトを設定する。バッファにはコールバックオブジェクトの 戻り値が設定される。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\item[{\em on\_\-wconvert}]設定対象コールバックオブジェクト \end{description}
\end{Desc}


 InPort.py の 499 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!setOnRead@{setOnRead}}
\index{setOnRead@{setOnRead}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def setOnRead ( {\em self},  {\em on\_\-read})}\label{classsource__py_1_1_in_port_1_1_in_port_775d8c80718d03573e859906a1dc97c3}


\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへデータ読み込み時のコールバックの設定 

\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} が持つバッファからデータが読み込まれる直前に呼ばれるコールバック オブジェクトを設定する。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\item[{\em on\_\-read}]設定対象コールバックオブジェクト \end{description}
\end{Desc}


 InPort.py の 517 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!setOnReadConvert@{setOnReadConvert}}
\index{setOnReadConvert@{setOnReadConvert}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def setOnReadConvert ( {\em self},  {\em on\_\-rconvert})}\label{classsource__py_1_1_in_port_1_1_in_port_d4e1087770440b19f79645251525ce52}


\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへデータ読み出し時のコールバックの設定 

\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} が持つバッファからデータが読み出される際に呼ばれるコールバック オブジェクトを設定する。コールバックオブジェクトの戻り値がread()メソッド の呼出結果となる。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\item[{\em on\_\-rconvert}]設定対象コールバックオブジェクト \end{description}
\end{Desc}


 InPort.py の 536 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!setOnOverflow@{setOnOverflow}}
\index{setOnOverflow@{setOnOverflow}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def setOnOverflow ( {\em self},  {\em on\_\-overflow})}\label{classsource__py_1_1_in_port_1_1_in_port_8e5faa7cfdb7b1fb150a297bae0f3ed6}


\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへバッファオーバーフロー時のコールバックの設定 

\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} が持つバッファでバッファオーバーフローが検出された際に呼び出される コールバックオブジェクトを設定する。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\item[{\em on\_\-overflow}]設定対象コールバックオブジェクト \end{description}
\end{Desc}


 InPort.py の 554 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!setOnUnderflow@{setOnUnderflow}}
\index{setOnUnderflow@{setOnUnderflow}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def setOnUnderflow ( {\em self},  {\em on\_\-underflow})}\label{classsource__py_1_1_in_port_1_1_in_port_f390a4e2c5d98961eb386a93040348fb}


\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} バッファへバッファアンダーフロー時のコールバックの設定 

\doxyref{InPort}{p.}{classsource__py_1_1_in_port_1_1_in_port} が持つバッファでバッファアンダーフローが検出された際に呼び出される コールバックオブジェクトを設定する。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\item[{\em on\_\-underflow}]設定対象コールバックオブジェクト \end{description}
\end{Desc}


 InPort.py の 572 行で定義されています。\index{source\_\-py::InPort::InPort@{source\_\-py::InPort::InPort}!getPortDataType@{getPortDataType}}
\index{getPortDataType@{getPortDataType}!source_py::InPort::InPort@{source\_\-py::InPort::InPort}}
\subsubsection{\setlength{\rightskip}{0pt plus 5cm}def getPortDataType ( {\em self})}\label{classsource__py_1_1_in_port_1_1_in_port_351df4fbd08a42062cc527da0562cbc4}


データ型名取得用メソッド 

データの型名を取得するため、InPortCorbaProviderから呼ばれる。

\begin{Desc}
\item[引数:]
\begin{description}
\item[{\em self}]\end{description}
\end{Desc}
\begin{Desc}
\item[戻り値:]バッファに設定されているデータの型名 \end{Desc}


 InPort.py の 590 行で定義されています。